{%
    set dimensions = [
    ('Mental Demand', 'How mentally demanding was the task?'),
    ('Attention Required', 'How much are you concentrating during the scenario? '
     'Is your attention in high demand during the scenario'),
    ('Division of Attention',
     'How much is your attention divided by the scenario? Are you concentrating '
     'on many aspects of the scenario (High) or focused on only one (Low)?'),
    ('Amount of Information',
     'How much needed information have you gained during the scenario? Was all '
     'the information you needed available and understood (High) or some missing '
     'and not understood (Low)?'),
    ('Simple or Complex Scenario',
     'How complicated is the scenario? Is it complex with many interrelated '
     'components (High) or is it simple and straightforward (Low)?'),
    ('Temporal Demand', 'How hurried or rushed was the pace of the task?'),
    ('Few of Many Factors Changing During the Scenario',
     'How many variables are changing within the scenario? Are there a large '
     'number of factors varying (High) or are there very few variables changing '
     '(Low)?'),
    ('Performance',
     'How successful were you in accomplishing what you were asked to do?'),
    ('Familiarity with the Scenario',
     'How familiar are you with the scenario? Do you have a great deal of '
     'relevant experience (High) or is it a new scenario (Low)?'),
    ('Effort',
     'How hard did you have to work to accomplish your level of performance?'),
    ('Frustration',
     'How insecure, discouraged, irritated, stressed, and annoyed were you?')
    ]
%}

<form id="theForm" class="survey-container">
    {% for (dimension, prompt) in dimensions %}
    <div class="form-group">
        <label class="dimension-label">{{ dimension }}</label>
        <p>{{ prompt }}</p>
        <div  class="btn-group d-flex" role="group" aria-label="{{ dimension }}">
            {% for value in range(21) %}
            <input type="radio" id="{{ dimension | lower | replace(' ', '') }}-{{ value }}" name="{{ dimension | lower | replace(' ', '') }}" value="{{ value }}" class="btn-check">
            {% endfor %}
        </div>
        <div class="btn-group d-flex" role="group" >
            <span class="flex-grow-1 text-left">Very Low</span>
            <span class="flex-grow-1 text-right">Very High</span>
        </div><!-- Collapsible textbox for optional feedback -->
        <div class="mt-2"> 
            <a class="btn btn-link" data-toggle="collapse" 
               href="#{{ dimension | lower | replace(' ', '') }}-feedback-collapse" 
               role="button" aria-expanded="false" 
               aria-controls="{{ dimension | lower | replace(' ', '') }}-feedback-collapse"> 
               Add optional feedback
            </a> 
            <div class="collapse" id="{{ dimension | lower | replace(' ', '') }}-feedback-collapse"> 
                <div class="form-group"> 
                    <textarea class="form-control" 
                      name="{{ dimension | lower | replace(' ', '') }}_feedback" rows="3" 
                      placeholder="Enter your feedback"></textarea> 
                </div> 
            </div> 
        </div>
    </div>
    {% endfor %}
    <button type="submit" class="btn btn-success">Submit</button>
</form>